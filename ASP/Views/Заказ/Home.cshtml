@model System.Collections.Generic.List<ASP.Models.Заказы>

@{
    ViewBag.Title = "Заказы";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<link href="@Url.Content("~/Content/jquery.dataTables.css")" rel="stylesheet" type="text/css" />
<script src="@Url.Content("~/Scripts/Home/jquery.dataTables.min.js")" type="text/javascript"></script>
<script type="text/javascript">

    $(document).ready(function () {

        //// Setup - add a text input to each footer cell
        //$('tfoot th').each(function () {
        //    var title = $('#example thead th').eq($(this).index()).text();
        //    $(this).html('<input type="text" placeholder="Search ' + title + '" />');
        //});

        var table = $('#myDataTable').dataTable({
            "bServerSide": true,
            "sAjaxSource": "AjaxHandler",
            "bProcessing": true,
            "bRetrieve": true,
            "searching": false,
            "columnDefs": [
           {

               "render": function (data, type, row) {
                   return ' <a href=\"Edit/' + data + '\">Edit</a> |' +
                                 '<a href=\"Details/' + data + '\">Details</a> |' +
                                ' <a href=\"Delete/' + data + '\">Delete</a> ';
               },
               "width": "120px",
               "targets": 0
           }
          // ,{ "visible": false, "targets": [3] }
            ]

            //"aoColumns": [
            //    {
            //        "sName": "Код",
            //        "bSearchable": false,
            //        "bSortable": true,
            //        "fnRender": function (oObj) {
            //            return ' <a href=\"Edit/' + oObj.aData[0] + '\">Edit</a> |' +
            //                    '<a href=\"Details/' + oObj.aData[0] + '\">Details</a> |' +
            //                   ' <a href=\"Delete/' + oObj.aData[0] + '\">Delete</a> ';
            //        }
            //    },

            //    { "sName": "Название" }
            //]
            //,initComplete: function () {
            //    this.api().columns().every(function () {
            //        var column = this;
            //        var select = $('<select><option value=""></option></select>')
            //            .appendTo($(column.footer()).empty())
            //            .on('change', function () {
            //                var val = $.fn.dataTable.util.escapeRegex(
            //                    $(this).val()
            //                );

            //                column
            //                    .search(val ? '^' + val + '$' : '', true, false)
            //                    .draw();
            //            });

            //        column.data().unique().sort().each(function (d, j) {
            //            select.append('<option value="' + d + '">' + d + '</option>')
            //        });
            //    });
            //}
        });

        //// Apply the search
        //table.columns().every(function () {
        //    var that = this;

        //    $('input', this.footer()).on('keyup change', function () {
        //        that
        //            .search(this.value)
        //            .draw();
        //    });
        //});
    });

</script>


<div id="container">
    <div id="demo">
        <h2>Заказы</h2>
        <p>
            @Html.ActionLink("Добавить", "Create")
        </p>
        <table id="myDataTable" class="table table-striped table-bordered hover" cellspacing="0" width="100%">
            <thead>
                <tr>
                    <th></th>
                    <th>Сотрудник</th>
                    <th>Заказчик</th>
                    <th>Дата заказа</th>
                    <th>Дата исполнения</th>
                    <th>Предоплата</th>
                    <th>Стоимость</th>
                    <th>Гарантия</th>
                    @*<th>Отметки</th>*@
                </tr>
            </thead>
            <tfoot>
            <th></th>
            <th>Сотрудник</th>
            <th>Заказчик</th>
            <th></th>
            <th></th>
            <th></th>
            <th></th>
            <th></th>
          @*<th></th>*@
            </tfoot>
            <tbody></tbody>

        </table>
    </div>
</div>
